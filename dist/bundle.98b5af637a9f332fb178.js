!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return toString.call(e)},i={stringTag:a(""),objectTag:a({}),arrayTag:a([]),numberTag:a(1),functionTag:a(function(){}),undefinedTag:a(void 0),nullTag:a(null)},u=i.objectTag,c=i.arrayTag,l=function e(t){var n,r=a(t);if(r!==c&&r!==u)return t;for(var i in r===u?n=Object.assign({},t):r===c&&(n=o(t)),n)n[i]=e(n[i]);return n},f=function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&!1===t(e[n],n))break},p=function(e,t){a(e)===c?function(e,t){for(var n=0;n<e.length&&!1!==t(e[n],n);n++);}(e,t):f(e,t)},d=function(e){return r(e)},s={tofObjectTag:d({})},v={},g=function(e,t,n){var r="is"+t[0].toUpperCase()+t.replace(/^.|Tag$/g,"");v[r]=function(t){return n(t)===e},Object.defineProperty(v[r],"name",{value:r})};f(i,function(e,t){return g(e,t,a)}),f(s,function(e,t){return g(e,t,d)});var m=v.isString,h=v.isObject,b=v.isTofObject,y=v.isFunction,$=v.isArray,O=v.isNumber,x=v.isUndefined,N=v.isNull,j=/[\u005b\u005d]/g,w=/\.{2,}/g,S=/^\.|\.$/g,T=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join(".").replace(j,".").replace(w,".").replace(S,"")},P=function(e){return e.replace(j,".").replace(w,".").replace(S,"").split(".")},_=function(e,t){m(t)&&(t=[t]);var n={};return p(t,function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n},E=function(e,t,n){m(t)&&(t=P(t));var r=e,o=t.pop();p(t,function(e){x(r[e])&&(r[e]={}),r=r[e]}),r[o]=n},V=JSON.stringify({}),A=function(e){return!($(e)&&$.length>0)&&(!h(e)||V===JSON.stringify(e))},F=Object.freeze({cloneDeep:l,forEach:p,isString:m,isObject:h,isTofObject:b,isFunction:y,isArray:$,isNumber:O,isUndefined:x,isNull:N,pathJoin:T,pathSplit:P,pick:_,set:E,isEmpty:A}),I={},U=function e(t,n){$(t)?e(t[0],t[1]):h(t)?(I[t.propertiy]=t.handler,t.options&&n&&Object.assign(t.options,n)):window.console.error("plugins Error: ",t)},C=function(e){return p(e,function(e){return U(e)})},D={},W=function(e,t){D[e]||(D[e]=[],Object.defineProperties(D[e],{newVal:{writable:!0},oldVal:{writable:!0}})),t&&-1===D[e].indexOf(t)&&(D[e].push(t),t(D[e].newVal,D[e].oldVal))},J={},k=function e(t){var n=[];return p(t,function(e){return $(e)?n.push(e):n.push([e])}),J[++e.id]=n,e.id};Object.defineProperty(k,"id",{value:0,writable:!0});var M=function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0;a=T(a,n),W(a),Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return o[n]},set:function(r){var i=o[n];if(JSON.stringify(r)!==JSON.stringify(i))if(function(e,t,n){t=l(t),n=l(n),D[e].newVal=t,D[e].oldVal=n,p(D[e],function(e){return e(t,n)})}(a,r,i),h(r)){o[n]={},h(i)||(i={});var u={};p(r,function(e,t){return u[t]=i[t]}),p(r,function(o,i){return e(t[n],i,r,u,a)})}else if($(r)){o[n]=[],$(i)||(i=[]);var c=[];p(r,function(e,t){return c[t]=i[t]}),p(r,function(o,i){return e(t[n],i,r,c,a)})}else o[n]=r}}),t[n]=l(r[n])},R=function e(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).watch,r=++e.id,o={};return p(t,function(e,n){return M(o,n,t,{},r)}),p(n,function(e,t){return W(T(r,t),e)}),Object.defineProperty(o,"$tp",{value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(0===n.length)return"{{".concat(e,"}}");var o=k(n);return"{{".concat(e,"|").concat(o,"}}")}.apply(void 0,[T(r,e)].concat(n))}}),o};Object.defineProperty(R,"id",{value:0,writable:!0});var z=/{{(([\s\S]+?)(?:\|([0-9]+))?)}}/g,B=function(e,t,n,r){var a={},i=[],u={};p(r,function(u,c){a[c]=function(a){u.val=a,function(e,t,n,r){var a=n;p(r,function(e){p(e.tp,function(t){var n=e.val;t.filterId&&p(J[t.filterId],function(e){var t=(e=o(e))[0];e[0]=n,n=t.apply(void 0,o(e))}),b(n)?n=JSON.stringify(n):(x(n)||N(n))&&(n=""),a=a.replace(t.RE,n)})}),E(e,t,a)}(e,t,n,r)},p(u.tp,function(e){return e.filterId&&i.push(e.filterId)})});var c=e.$removeWatch;e.$removeWatch=function(){p(a,function(e,t){return function(e,t){var n=D[e].indexOf(t);-1!==n&&D[e].splice(n,1)}(t,e)}),c&&c()};var l=e.$addWatch;e.$addWatch=function(){p(a,function(e,t){return W(t,e)}),l&&l()};var f=e.$removeFilter;e.$removeFilter=function(){p(i,function(e){return u[e]=function(e){var t=J[e];return delete J[e],t}(e)||u[e]}),f&&f()};var d=e.$restoreFilter;e.$restoreFilter=function(){p(u,function(e,t){return function(e,t){return J[e]=t}(t,e)}),d&&d()}},q=function e(t,n,r){if(h(r)||$(r))p(r,function(r,o){return e(t,T(n,o),r)});else{E(t,n,r);var o={},a="";do{if(null!==(a=z.exec(r))){var i=a[1],u=a[2];o[u]||(o[u]={val:"",tp:{}}),o[u].tp[i]||(o[u].tp[i]={RE:RegExp(a[0].replace("|","\\|"),"g"),filterId:a[3]})}}while(null!==a);!A(o)&&B(t,n,r,o)}},G=function e(t){t.$isUpdate&&(t.$removeWatch&&t.$removeWatch(),t.$removeFilter&&t.$removeFilter(),p(t.childNodes,function(t){return e(t)}),t.$isUpdate=!1)},H=function e(t){!t.$isUpdate&&t.parentNode&&t.parentNode.$isUpdate&&(t.$isUpdate=!0,t.$restoreFilter&&t.$restoreFilter(),t.$addWatch&&t.$addWatch(),p(t.childNodes,function(t){return e(t)}))},K=function(e){var t=document.createTextNode(e);q(t,"nodeValue",e);var n=t.remove;return t.remove=function(){n.call(t),G(t)},t.$update=function(){return H(t)},t},L=function e(t){if((m(t)||x(t))&&(t={tagName:t}),h(t)){var n=document.createElement(t.tagName||"div");delete(t=l(t)).tagName,p(t,function(t,r){I[r]?I[r](n,t):"child"===r?$(t)?p(t,function(t){return n.appendChild(e(t))}):n.appendChild(e(t)):/^text[0-9]*$/.test(r)?n.appendChild(K(t)):q(n,r,t)});var r=n.remove;return n.remove=function(){G(n),r.call(n)},n.$update=function(){return H(n)},n}window.console.error("createElement Error: ",t)},Q=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.el;$(t)?p(t,function(e){return n.appendChild(L(e))}):n.appendChild(L(t))};Object.defineProperties(Q,{el:{value:document.getElementById("digi")||document.body},createElement:{value:L},createTextNode:{value:K},utils:{value:F},createData:{value:R},plugins:{value:C}}),Q.el.$isUpdate=!0,document.body.$isUpdate=!0;var X=document.appendChild;document.body.__proto__.__proto__.appendChild=function(e){X.call(this,e),e.$update&&e.$update()},t.default=Q,t.createElement=L,t.createTextNode=K,t.createData=R,t.plugins=C,t.cloneDeep=l,t.forEach=p,t.isString=m,t.isObject=h,t.isTofObject=b,t.isFunction=y,t.isArray=$,t.isNumber=O,t.isUndefined=x,t.isNull=N,t.pathJoin=T,t.pathSplit=P,t.pick=_,t.set=E,t.isEmpty=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},o=0,a=toString.call([]);Object.defineProperties(r,{propertiy:{value:"ref"},handler:{value:function(e,t){r[t]?(toString.call(r[t])!==a&&(r[t]=[r[t]]),r[t].push(e)):r[t]=e,e.oldRemove=e.remove,e.remove=function(){toString.call(r[t])!==a?delete r[t]:(r[t].splice(r[t].indexOf(e),1),0===r[t].length&&delete r[t]),e.oldRemove()}}},allotId:{value:function(){return o++}}});var i=r.allotId;t.allotId=i,t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a);const u=Object(r.createData)({newVal:"",oldVal:123}),c=Object(r.createData)({a:123},{watch:{a:(e,t)=>{u.newVal=e,u.oldVal=t}}});var l=[{tagName:"h3",text:"绑定数据"},{text:c.$tp("a")},{text:"单向绑定：",child:{tagName:"input",value:c.a,oninput(){c.a=this.value}}},{text:"双向绑定：",child:{tagName:"input",value:c.$tp("a"),oninput(){c.a=this.value}}},{text:`新值：${u.$tp("newVal")}，旧值：${u.$tp("oldVal")}`},{child:[{tagName:"button",text:"添加显示",onclick(){o()({text:"点击删除："+c.$tp("a"),onclick(e){e.stopPropagation(),this.remove()}},this.parentNode)}}]}];const f=Object(r.createData)({a:"2019-01-01"});var p=[{tagName:"h3",text:"过滤器"},{tagName:"input",type:"date",value:f.a,oninput(){f.a=this.value}},{text:f.$tp("a",e=>e+" 0:00:",e=>e+"00")},{text:f.$tp("a",[(e,t,n,r)=>e.replace("-",t).replace("-",n)+r,"年","月","日"])}];const d=Object(r.createData)({select:""});var s=[{tagName:"h3",text:"选择"},{tagName:"select",onchange(){d.select=this.value},child:[{tagName:"option",value:"",text:"选择"},{tagName:"option",value:1,text:"选择1"},{tagName:"option",value:2,text:"选择2"}]},{text:"选择了："+d.$tp("select")}];const v=Object(r.createData)({color:{r:0,g:0,b:0,a:1}});var g=[{tagName:"h3",text:"颜色"},{style:{width:"200px",height:"100px",backgroundColor:`rgba(${v.$tp("color.r")}, ${v.$tp("color.g")}, ${v.$tp("color.b")}, ${v.$tp("color.a")})`}},{text:"r: ",child:{tagName:"input",type:"number",min:0,max:255,value:v.$tp("color.r"),oninput(){v.color.r=this.value}}},{text:"g: ",child:{tagName:"input",type:"number",min:0,max:255,value:v.$tp("color.g"),oninput(){v.color.g=this.value}}},{text:"b: ",child:{tagName:"input",type:"number",min:0,max:255,value:v.$tp("color.b"),oninput(){v.color.b=this.value}}},{text:"a: ",child:{tagName:"input",type:"number",min:0,max:1,step:.01,value:v.$tp("color.a"),oninput(){v.color.a=this.value}}}];const m=Object(a.allotId)();var h=[{tagName:"h3",text:"ref标记元素"},{tagName:"input",oninput(){i.a[m].innerText="输入内容："+this.value}},{ref:m,innerText:"输入内容："}];o.a.plugins([i.a]),o()([...l,"hr",...p,"hr",...s,"hr",...g,"hr",...h,"hr"])}]);